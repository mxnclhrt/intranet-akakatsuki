<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion Intranet</title>
    <link rel="icon" type="image/png" href="img/Akatsuki-Logo-url.png"/>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Styles spécifiques pour centrer la boîte de connexion et l'adapter au thème sombre */
        body { 
            display:flex; 
            justify-content:center; 
            align-items:center; 
            height:100vh; 
        }
        
        /* Ajustement de la boîte de connexion pour le thème Akatsuki */
        .login-box { 
            background: rgba(31, 31, 31, 0.95); /* Fond sombre, légèrement transparent */
            padding:2rem; 
            border-radius:10px; 
            box-shadow:0 4px 20px rgba(0,0,0,0.5); 
            max-width:350px; 
            width:100%; 
            border: 2px solid #f44336; /* Bordure rouge Akatsuki */
            color: #eee; /* Texte clair */
        }
        
        .login-box h2 {
            color: #f44336; /* Titre rouge Akatsuki */
            text-align: center;
            margin-top: 0;
        }

        label { 
            display:block; 
            margin-top:1rem; 
            font-weight:600; 
            color: #eee;
        }
        
        input { 
            width:100%; 
            padding:0.5rem; 
            margin-top:0.25rem; 
            border:1px solid #f44336; 
            border-radius:6px; 
            box-sizing:border-box; 
            background: #1f1f1f; /* Fond d'input très sombre */
            color: #fff; /* Texte d'input blanc */
        }
        
        button { 
            margin-top:1.5rem; 
            width:100%; 
            padding:0.6rem; 
            background:#f44336; /* Bouton rouge Akatsuki */
            color:white; 
            border:none; 
            border-radius:5px; 
            cursor:pointer;
            transition: 0.2s; 
        }
        
        button:hover {
            filter: brightness(1.2); /* Effet de survol Akatsuki */
        }

        .error { 
            color:#ff5555; /* Message d'erreur rouge */
            margin-top:0.8rem; 
            text-align:center; 
        }
    </style>
</head>
<body>
<div class="login-box">
    <h2>Connexion</h2>
    <label for="user">Identifiant</label>
    <input type="text" id="user" autocomplete="username" />
    <label for="pwd">Mot de passe</label>
    <input type="password" id="pwd" autocomplete="current-password" />
    <button id="submit">Se connecter</button>
    <p id="msg" class="error"></p>
</div>
<script>
    const ALLOWED_LOGIN = "akakatsuki";
    const ALLOWED_PASSWORD = "jaimelesmineurs";
    const SESSION_KEY = "intranet_auth_ok_v2";
    // si déjà connecté, redirige vers index
    if(sessionStorage.getItem(SESSION_KEY) === "1"){
        window.location.href = "index.html";
    }
    document.getElementById("submit").addEventListener("click", ()=>{
        const user = document.getElementById("user").value.trim();
        const pwd = document.getElementById("pwd").value;
        const msg = document.getElementById("msg");
        msg.textContent = "";
        if(user===ALLOWED_LOGIN && pwd===ALLOWED_PASSWORD){
            sessionStorage.setItem(SESSION_KEY,"1");
            window.location.href = "index.html";
        }else{
            msg.textContent = "Identifiant ou mot de passe incorrect.";
        }
    });
    // Enter pour soumettre
    [document.getElementById("user"), document.getElementById("pwd")].forEach(el=>{
        el.addEventListener("keydown",e=>{
            if(e.key==="Enter") document.getElementById("submit").click();
        });
    });
</script>
</body>
</html>
